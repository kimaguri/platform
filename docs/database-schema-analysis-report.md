# –ê–Ω–∞–ª–∏–∑ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –õ–æ–≥–∏–∫–∏ –∏ –°—Ö–µ–º—ã –ë–î: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å –∏ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 23 –∏—é–ª—è 2025  
**–ü—Ä–æ–µ–∫—Ç:** Simplex CRM Platform  
**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** simplx_crm_tenant (Supabase)

## üìã –û–±–∑–æ—Ä –ê–Ω–∞–ª–∏–∑–∞

–ü—Ä–æ–≤–µ–¥–µ–Ω –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ª–æ–≥–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞:

- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–∞–±–ª–∏—Ü –∏ –ø–æ–ª–µ–π
- –ü—Ä–∞–≤–∏–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è extensible fields
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç–µ–Ω–∞–Ω—Ç–æ–≤
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É TypeScript –º–æ–¥–µ–ª—è–º–∏ –∏ —Å—Ö–µ–º–æ–π –ë–î

## üîç –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¢–µ–∫—É—â–µ–π –ë–î

### –û—Å–Ω–æ–≤–Ω—ã–µ –¢–∞–±–ª–∏—Ü—ã

- `tenants` - –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–Ω–∞–Ω—Ç–∞—Ö
- `tenant_supabase_configs` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Supabase (‚ùå –Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ)
- `tenant_entity_configs` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π
- `tenant_custom_fields` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã—Ö –ø–æ–ª–µ–π
- `tenant_audit_log` - –∂—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞

### –°–≤—è–∑–∏ –∏ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–≤—è–∑–∞–Ω—ã —Å `tenants` —á–µ—Ä–µ–∑ `tenant_id`
- RLS –≤–∫–ª—é—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
- –°–æ–∑–¥–∞–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ü—Ä–æ–±–ª–µ–º—ã

### 1. –ù–∞—Ä—É—à–µ–Ω–∏–µ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç–∏ –ù–∞–∑–≤–∞–Ω–∏–π

**–ü—Ä–æ–±–ª–µ–º—ã:**

- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `tenant_supabase_configs` –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ Supabase
- ‚ùå –ü–æ–ª—è `supabase_project_id`, `supabase_url` –Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã
- ‚ùå CHECK –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∂–µ—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ Supabase URL: `supabase_url ~ '^https://[a-z0-9]+\.supabase\.co$'`
- ‚ùå API –ø—É—Ç–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç "supabase": `/tenants/:tenantId/supabase-config`
- ‚ùå TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: `CreateSupabaseConfigRequest`

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π:**

```
Database: supabase_project_id, supabase_url, supabase_active
Code: 50+ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π "supabase" –≤ TypeScript —Ñ–∞–π–ª–∞—Ö
API: createSupabaseConfig(), getSupabaseConfigForTenant()
```

### 2. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ TypeScript –ú–æ–¥–µ–ª–µ–π –∏ –ë–î

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è:**

| –ê—Å–ø–µ–∫—Ç             | –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö                                      | TypeScript –ö–æ–¥                         | –°—Ç–∞—Ç—É—Å                 |
| ------------------ | ------------------------------------------------ | -------------------------------------- | ---------------------- |
| –¢–∏–ø—ã –ø–æ–ª–µ–π         | `string,number,boolean,date,json,text,email,url` | `text,number,boolean,date,json,select` | ‚ùå –ù–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç        |
| –ò–º–µ–Ω–∞ –ø–æ–ª–µ–π        | `field_label`                                    | `display_name`                         | ‚ùå –†–∞–∑–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è     |
| ID —Ç–∏–ø—ã            | `UUID`                                           | `number`                               | ‚ùå –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã         |
| –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è | `display_order, is_visible`                      | –ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã                          | ‚ùå –ù–µ–ø–æ–ª–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã |

### 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã Extensible Fields

**–ü—Ä–æ–±–ª–µ–º—ã:**

- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç–∞–±–ª–∏—Ü–∞ `extension_definitions` (—É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö)
- ‚ùå –ù–µ—Ç —á–µ—Ç–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –º–µ–∂–¥—É –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (Admin DB) –∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (Tenant DB)
- ‚ùå –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ–¥–Ω–æ–π –ë–î –≤–º–µ—Å—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
- ‚ùå TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ExtensionFieldDefinition` –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ë–î

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¢–µ–Ω–∞–Ω—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º—ã:**

- ‚ùå –ñ–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `connector_type = 'supabase'`
- ‚ùå –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –ë–î –≤ —Å—Ö–µ–º–µ
- ‚ùå –ü–æ–ª–µ `plan` —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ –¥–ª—è Supabase (free, pro, team, enterprise)
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –£–ª—É—á—à–µ–Ω–∏—é

### 1. –£–Ω–∏–≤–µ—Ä—Å–∞–ª–∏–∑–∞—Ü–∏—è –ù–∞–∑–≤–∞–Ω–∏–π

**–ú–∏–≥—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü –∏ –ø–æ–ª–µ–π:**

```sql
-- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
ALTER TABLE tenant_supabase_configs RENAME TO tenant_database_configs;

-- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π
ALTER TABLE tenant_database_configs RENAME COLUMN supabase_project_id TO database_project_id;
ALTER TABLE tenant_database_configs RENAME COLUMN supabase_url TO database_url;

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ CHECK –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
ALTER TABLE tenant_database_configs DROP CONSTRAINT supabase_url_format;
ALTER TABLE tenant_database_configs ADD CONSTRAINT database_url_format
    CHECK (database_url ~ '^https?://[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}');
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API:**

```typescript
// –ë—ã–ª–æ: CreateSupabaseConfigRequest
interface CreateDatabaseConfigRequest {
  tenant_id: string;
  connector_type: 'supabase' | 'postgres' | 'mongodb' | 'mysql';
  database_url: string;
  database_project_id?: string;
  access_key: string;
  secret_key?: string;
  region?: string;
  pricing_tier?: string;
  connector_config?: Record<string, any>;
}

// API –ø—É—Ç—å: /tenants/:tenantId/database-config
```

### 2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è TypeScript –∏ –ë–î

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ExtensionFieldDefinition:**

```typescript
export interface ExtensionFieldDefinition {
  id: string; // UUID –≤–º–µ—Å—Ç–æ number
  tenant_id: string;
  entity_type: string; // entity_table ‚Üí entity_type
  field_name: string;
  field_type: 'text' | 'number' | 'boolean' | 'date' | 'json' | 'select';
  display_name: string; // field_label ‚Üí display_name
  description?: string;
  is_required: boolean;
  is_searchable: boolean;
  is_filterable: boolean;
  is_sortable: boolean;
  default_value?: any;
  validation_rules?: Record<string, any>;
  ui_config?: Record<string, any>;
  display_order: number; // –î–æ–±–∞–≤–ª–µ–Ω–æ –∏–∑ –ë–î
  is_visible: boolean; // –î–æ–±–∞–≤–ª–µ–Ω–æ –∏–∑ –ë–î
  is_active: boolean;
  created_at: string;
  updated_at: string;
}
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫–æ–¥—É:**

```sql
-- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–ª—è
ALTER TABLE tenant_custom_fields RENAME COLUMN field_label TO display_name;

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π
ALTER TABLE tenant_custom_fields DROP CONSTRAINT tenant_custom_fields_field_type_check;
ALTER TABLE tenant_custom_fields ADD CONSTRAINT tenant_custom_fields_field_type_check
    CHECK (field_type IN ('text', 'number', 'boolean', 'date', 'json', 'select'));

-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª–µ–π
ALTER TABLE tenant_custom_fields ADD COLUMN IF NOT EXISTS is_searchable BOOLEAN DEFAULT false;
ALTER TABLE tenant_custom_fields ADD COLUMN IF NOT EXISTS is_filterable BOOLEAN DEFAULT false;
ALTER TABLE tenant_custom_fields ADD COLUMN IF NOT EXISTS is_sortable BOOLEAN DEFAULT false;
ALTER TABLE tenant_custom_fields ADD COLUMN IF NOT EXISTS description TEXT;
ALTER TABLE tenant_custom_fields ADD COLUMN IF NOT EXISTS ui_config JSONB DEFAULT '{}';
ALTER TABLE tenant_custom_fields ADD COLUMN IF NOT EXISTS is_active BOOLEAN DEFAULT true;
```

### 3. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

**–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã:**

```sql
CREATE TABLE tenant_database_configs_new (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    tenant_id UUID REFERENCES tenants(id) ON DELETE CASCADE,

    -- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
    connector_type VARCHAR(50) NOT NULL CHECK (connector_type IN ('supabase', 'postgres', 'mongodb', 'mysql')),
    database_url VARCHAR(500) NOT NULL,
    database_project_id VARCHAR(100),

    -- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞
    access_key TEXT NOT NULL,
    secret_key TEXT,

    -- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    region VARCHAR(50),
    pricing_tier VARCHAR(50) DEFAULT 'free',

    -- –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    connector_config JSONB DEFAULT '{}',

    -- –°—Ç–∞—Ç—É—Å
    is_active BOOLEAN DEFAULT true,

    -- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),

    -- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
    UNIQUE(tenant_id),
    CONSTRAINT database_url_format CHECK (database_url ~ '^https?://[a-zA-Z0-9.-]+')
);
```

### 4. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Extensible Fields

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è:**

- **Admin DB (simplx_crm_tenant):** –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–æ–ª–µ–π –≤ `tenant_custom_fields`
- **Tenant DB (–Ω–∞–ø—Ä–∏–º–µ—Ä, helpdev-new):** –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π –≤ `custom_fields` –∫–æ–ª–æ–Ω–∫–∞—Ö

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```
üìä EXTENSIBLE FIELDS ARCHITECTURE

Admin DB (simplx_crm_tenant):
‚îú‚îÄ‚îÄ tenant_custom_fields (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
‚îÇ   ‚îú‚îÄ‚îÄ field_name, field_type, validation_rules
‚îÇ   ‚îú‚îÄ‚îÄ display_name, is_required, default_value
‚îÇ   ‚îî‚îÄ‚îÄ display_order, is_visible, is_active

Tenant DB (helpdev-new):
‚îú‚îÄ‚îÄ leads.custom_fields JSONB
‚îú‚îÄ‚îÄ clients.custom_fields JSONB
‚îú‚îÄ‚îÄ projects.custom_fields JSONB
‚îî‚îÄ‚îÄ activities.custom_fields JSONB
```

## üìà –ü–ª–∞–Ω –ü–æ—ç—Ç–∞–ø–Ω–æ–π –ú–∏–≥—Ä–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–±–µ–∑ –ø—Ä–æ—Å—Ç–æ—è)

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
2. ‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### –≠—Ç–∞–ø 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API (–±–µ–∑ –ø—Ä–æ—Å—Ç–æ—è)

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ endpoints
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä-—Ä–µ–≥–∏—Å—Ç—Ä–∏ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ë–î
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ë–î

### –≠—Ç–∞–ø 3: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å—Ç–æ–π)

1. ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å API –Ω–∞ –Ω–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö endpoints
3. ‚úÖ –ü—Ä–æ–≤–µ—Å—Ç–∏ smoke testing
4. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –≠—Ç–∞–ø 4: –û—á–∏—Å—Ç–∫–∞

1. ‚úÖ –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ endpoints –∏ —Ç–∞–±–ª–∏—Ü—ã
2. ‚úÖ –£–¥–∞–ª–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫–æ–¥
3. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
4. ‚úÖ –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω–æ–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
üìä UNIVERSAL DATABASE SCHEMA

‚îú‚îÄ‚îÄ tenants (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è)
‚îú‚îÄ‚îÄ tenant_database_configs (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è)
‚îÇ   ‚îú‚îÄ‚îÄ –ü–æ–¥–¥–µ—Ä–∂–∫–∞: supabase, postgres, mongodb, mysql
‚îÇ   ‚îú‚îÄ‚îÄ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –ø–æ–ª—è: database_url, access_key
‚îÇ   ‚îî‚îÄ‚îÄ –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ JSONB
‚îú‚îÄ‚îÄ tenant_entity_configs (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è)
‚îú‚îÄ‚îÄ tenant_custom_fields (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è)
‚îÇ   ‚îú‚îÄ‚îÄ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –ø–æ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ –ü–æ–ª–Ω—ã–µ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö/–∑–Ω–∞—á–µ–Ω–∏–π
‚îî‚îÄ‚îÄ tenant_audit_log (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è)

üîß CONNECTOR SUPPORT
‚îú‚îÄ‚îÄ ‚úÖ Supabase (—Ç–µ–∫—É—â–∏–π)
‚îú‚îÄ‚îÄ ‚úÖ PostgreSQL (–≥–æ—Ç–æ–≤)
‚îú‚îÄ‚îÄ ‚úÖ MongoDB (–≥–æ—Ç–æ–≤)
‚îî‚îÄ‚îÄ üîÑ MySQL (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

üì± UNIVERSAL API ENDPOINTS
‚îú‚îÄ‚îÄ /tenants/:id/database-config
‚îú‚îÄ‚îÄ /tenants/:id/fields/:entity
‚îú‚îÄ‚îÄ /tenants/:id/entities
‚îî‚îÄ‚îÄ /tenants/:id/audit-log
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –£–ª—É—á—à–µ–Ω–∏–π

**–î–æ —É–ª—É—á—à–µ–Ω–∏–π:**

- ‚ùå 1 —Ç–∏–ø –ë–î (—Ç–æ–ª—å–∫–æ Supabase)
- ‚ùå 15+ Supabase-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚ùå 50+ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π "supabase" –≤ –∫–æ–¥–µ
- ‚ùå 5 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π TypeScript/–ë–î

**–ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π:**

- ‚úÖ 4+ —Ç–∏–ø–∞ –ë–î (supabase, postgres, mongodb, mysql)
- ‚úÖ 0 —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤–æ –≤—Å–µ–º –∫–æ–¥–µ
- ‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ TypeScript/–ë–î

## üöÄ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ê–Ω–∞–ª–∏–∑ –≤—ã—è–≤–∏–ª –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å—é –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É—é—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã. –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –æ–±–µ—Å–ø–µ—á–∞—Ç:

1. **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±—ã—Ö —Ç–∏–ø–æ–≤ –ë–î
2. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –ì–∏–±–∫–æ—Å—Ç—å** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
3. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ö–æ–¥–∞** - –ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –ë–î –∏ TypeScript
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–æ–≤—ã—Ö –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤

–í—Å–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ë–î –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω—É—é –ø–æ—ç—Ç–∞–ø–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é –±–µ–∑ –ø—Ä–æ—Å—Ç–æ–µ–≤ —Å–∏—Å—Ç–µ–º—ã.

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω  
**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–π —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–º—É –ø–ª–∞–Ω—É
